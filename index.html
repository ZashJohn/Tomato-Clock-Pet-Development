<!DOCTYPE html>
<html>  

<head>
  <meta charset="UTF-8">
  <link href="./styles.css" rel="stylesheet">
  <title>pomotodo</title>
  <script src="./script.js"></script>
</head>


<body>
  <div id="pomodoro" class="patato">
    <!-- 左侧导航栏-->
    <div class="nav">
      <ul>
        <li><a class="active" href="#home">主页</a></li>
        <li><a href="#pet">宠物</a></li>
        <li><a href="#community">社区</a></li>
        <li class="self"><a href="#person"><img src="./images/logo-mi2.png"></a></li>
      </ul>
    </div>
    <!-- 右侧主页面 -->
    <div class="main">
      <!-- 主页面左边 -->
      <div class="main-left">
        <!-- 左上 -->
        <div class="main-left-top">
          <table border="1" class="task-left">
            <tr>
              <td>目标</td>
              <td>次数</td>
              <td>时间总结</td>
            </tr>
          </table>
        </div>
        <!-- 左下 -->
        <div class="main-left-bottom">
          <div class="clock">
            <label for="countdown">请输入专注时间</label>
            <input type="number" id="minute" min="0" max="60" placeholder="分">
            <input type="number" id="second" min="1" max="60" placeholder="秒">
            <span>专注次数</span>
            <input type="number" id="times" min="1" value="1">
            <span>休息时间</span>
            <input type="number" id="breakTime" min="1" max="60" value="5">
            <button onclick="startTimer()" class="start">开始</button>
            <button onclick="stopTimer()" class="end">停止</button>
            <button onclick="restart()" class="restart">重置</button>
            <div class="circle">
              <div class="inner-circle">
                <p id="clock-title">未开始</p>
                <div id="timer">00:00</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- 主页面右边 -->
      <div class="main-right">
        <div class="main-right-top">
          <h2 id="currentMonth"></h2>

          <table id="calendar">
            <thead>
              <tr>
                <th>日</th>
                <th>一</th>
                <th>二</th>
                <th>三</th>
                <th>四</th>
                <th>五</th>
                <th>六</th>
              </tr>
            </thead>
            <tbody>
              <!-- Days will be inserted here with JavaScript -->
            </tbody>
          </table>
        </div>
        <div class="main-right-bottom">
          <p class="task-title">task-list</p>
          <table border="1" class="task-list">
            <tr>
              <td class="task-number">任务数</td>
              <td>任务</td>
            </tr>
          </table>
          <p class="partition"></p>
          <table border="1" class="task-list">
            <tr>
              <td class="task-number">任务数</td>
              <td>任务</td>
            </tr>
          </table>
          <p class="partition"></p>
          <table border="1" class="task-list">
            <tr>
              <td class="task-number">任务数</td>
              <td>任务</td>
            </tr>
          </table>
          <p class="partition"></p>
          <table border="1" class="task-list">
            <tr>
              <td class="task-number">任务数</td>
              <td>任务</td>
            </tr>
          </table>
          <script>
            //日历 strat
            // 获取当前日期
            let today = new Date();

            // 获取当前月份的第一天
            let firstDayOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);

            // 获取当前月份的最后一天
            let lastDayOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);

            // 获取当前月份的天数
            let daysInMonth = lastDayOfMonth.getDate();

            // 获取当前月份的第一天是星期几
            let firstDayOfWeek = firstDayOfMonth.getDay();

            // 获取日历表格的引用
            let calendarBody = document.querySelector('#calendar tbody');

            // 获取显示月份的元素
            let currentMonthElement = document.getElementById('currentMonth');
            currentMonthElement.textContent = `${firstDayOfMonth.getFullYear()}年${firstDayOfMonth.getMonth() + 1}月`;

            // 清空日历表格的内容
            calendarBody.innerHTML = '';

            // 创建日期表格
            let date = 1;
            for (let i = 0; i < 6; i++) {
              let row = document.createElement('tr');
              for (let j = 0; j < 7; j++) {
                if (i === 0 && j < firstDayOfWeek) {
                  // 创建空单元格直到第一天开始
                  let cell = document.createElement('td');
                  row.appendChild(cell);
                } else if (date > daysInMonth) {
                  // 如果日期超出当前月份的天数，停止创建单元格
                  break;
                } else {
                  // 创建带有日期的单元格
                  let cell = document.createElement('td');
                  cell.textContent = date;
                  if (date === today.getDate() && today.getMonth() === firstDayOfMonth.getMonth() && today.getFullYear() === firstDayOfMonth.getFullYear()) {
                    cell.classList.add('today');
                  }
                  row.appendChild(cell);
                  date++;
                }
              }
              calendarBody.appendChild(row);
            }
            //日历 end
          </script>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
